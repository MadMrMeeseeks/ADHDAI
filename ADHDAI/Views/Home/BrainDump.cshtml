@using static ADHDAI.Controllers.HomeController;
@model BrainDumpRequest

@{
    ViewData["Title"] = "BrainDump";
}

<h2>Brain Dump</h2>

@using (Html.BeginForm("BrainDumpConfirmation", "Home", FormMethod.Post))
{
    <div class="container">
        <div class="row">
            <div class="col">
                @Html.TextAreaFor(m => m.input, rows: 5, columns: 100, null)
            </div>
        </div>
        <div class="row">
            <div class="col">
                <input type="submit" class="btn btn-primary" value="Submit" />
            </div>
        </div>
    </div>
}

@*@section Scripts {
    <script>
        function returnString() {
            // Get the input value from the BrainDump textbox
            let inputText = document.querySelector('#brainDumpInput').value;

            // Call the OpenAI API to parse the input text
            fetch('/Home/ParseEventData', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ input: inputText })
            })
                .then(response => response.json())
                .then(data => {
                    // Add the parsed event data to the calendar
                    for (let time in data) {
                        let input = document.querySelector(`input[data-time="${time}"]`);
                        if (input) {
                            input.value = data[time];
                        }
                    }
                });
        }
    </script>
}*@
